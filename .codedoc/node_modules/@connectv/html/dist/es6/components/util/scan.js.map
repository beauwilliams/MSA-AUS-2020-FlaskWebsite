{"version":3,"file":"scan.js","sourceRoot":"","sources":["../../../../src/components/util/scan.ts"],"names":[],"mappings":"AAOA,MAAM,UAAU,UAAU,CAAC,KAAW,EAAE,GAAS,EAAE,OAAqB;IACtE,MAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC;QACzB,YAAY,EAAE,KAAK;QACnB,UAAU,EAAE,KAAK;KAClB,EAAE,OAAO,CAAC,CAAC;IAEZ,IAAI,OAAO,GAAY,EAAE,CAAC;IAE1B,MAAM,QAAQ,GAAG,CAAC,CAAO,EAAE,KAAwB,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE;QACxE,CAAC,CAAC,aAA6B,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QAChD,IAAI,IAAI,CAAC,QAAQ;YAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACpC,EAAE,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,CAAA;IAED,IAAI,MAAM,GAAiB,KAAK,CAAC;IACjC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,MAAM,IAAI,GAAG;QAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;IAEvE,IAAI,IAAI,CAAC,YAAY;QAAE,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;IAC3E,IAAI,IAAI,CAAC,UAAU;QAAE,QAAQ,CAAC,GAAG,CAAC,CAAC;IAEnC,OAAO,OAAO,CAAC;AACjB,CAAC","sourcesContent":["export interface ScanOptions {\n  includeStart?: boolean;\n  includeEnd?: boolean;\n  callback?: (n: Node) => void;\n}\n\n\nexport function scanRemove(start: Node, end: Node, options?: ScanOptions) {\n  const opts = Object.assign({\n    includeStart: false,\n    includeEnd: false,\n  }, options);\n\n  let scanned : Node[] = [];\n\n  const _remscan = (n: Node, cb: (n: Node) => void = n => scanned.push(n)) => {\n    (n.parentElement as HTMLElement).removeChild(n);\n    if (opts.callback) opts.callback(n);\n    cb(n);\n  }\n\n  let cursor : Node | null = start;\n  while ((cursor = start.nextSibling) && cursor != end) _remscan(cursor);\n\n  if (opts.includeStart) _remscan(start, n => scanned = [n].concat(scanned));\n  if (opts.includeEnd) _remscan(end);\n\n  return scanned;\n}\n"]}