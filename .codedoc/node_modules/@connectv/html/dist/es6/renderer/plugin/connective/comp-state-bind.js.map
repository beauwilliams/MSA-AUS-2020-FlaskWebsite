{"version":3,"file":"comp-state-bind.js","sourceRoot":"","sources":["../../../../../src/renderer/plugin/connective/comp-state-bind.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,gBAAgB,CAAC;AAEnD,OAAO,EAAE,cAAc,EAAE,MAAM,WAAW,CAAC;AAK3C,MAAM,OAAO,mBAAmB;IAAhC;QAgBE,aAAQ,GAAG,cAAc,CAAC,IAAI,CAAC;IACjC,CAAC;IAfC,QAAQ,CAAC,IAAY,EAAE,IAAS,EAAE,CAAO,EAAE,SAA6B;QACtE,IAAI,SAAS,CAAC,MAAM,IAAI,IAAI,IAAI,SAAS,CAAC,MAAM;eACzC,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,KAAK,IAAI,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,UAAU,CAAC;eACzF,CAAC,IAAI,YAAY,KAAK,IAAI,IAAI,YAAY,UAAU,CAAC,EAAE;YAC5D,IAAI,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAEnC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;YAExB,OAAO,IAAI,CAAC;SACb;QAED,OAAO,KAAK,CAAC;IACf,CAAC;CAGF","sourcesContent":["import { State, SimpleDeep } from \"@connectv/core\";\n\nimport { PluginPriority } from \"../plugin\";\nimport { CompType, ComponentSignature } from \"../component/types\";\nimport { CompPropPlugin } from \"../component/basic-plugins\";\n\n\nexport class CompStateBindPlugin<Renderable=RawValue, Tag=CompType<Renderable | string> | string>\nimplements CompPropPlugin<Renderable, Tag> {\n  wireProp(name: string, prop: any, _: Node, signature: ComponentSignature) {\n    if (signature.states && name in signature.states\n        && (signature.states[name] instanceof State || signature.states[name] instanceof SimpleDeep)\n        && (prop instanceof State || prop instanceof SimpleDeep)) {\n      let state = signature.states[name];\n\n      prop.to(state).to(prop);\n\n      return true;\n    }\n\n    return false;\n  }\n\n  priority = PluginPriority.High;\n}\n"]}