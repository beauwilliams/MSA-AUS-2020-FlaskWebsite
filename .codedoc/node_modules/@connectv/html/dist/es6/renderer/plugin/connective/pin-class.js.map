{"version":3,"file":"pin-class.js","sourceRoot":"","sources":["../../../../../src/renderer/plugin/connective/pin-class.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAW,SAAS,EAAE,MAAM,gBAAgB,CAAC;AAE1D,OAAO,KAAK,CAAC,MAAM,4BAA4B,CAAC;AAChD,OAAO,KAAK,eAAe,MAAM,kCAAkC,CAAC;AAEpE,OAAO,EAAE,cAAc,EAAE,MAAM,WAAW,CAAC;AAI3C,MAAM,OAAO,cAAc;IAA3B;QAGE,aAAQ,GAAG,cAAc,CAAC,IAAI,CAAC;IAgBjC,CAAC;IAdC,OAAO,CAAC,IAAY,EAAE,MAA8B,EAAE,IAAiB;QACrE,IAAI,IAAI,KAAK,OAAO,IAAI,SAAS,CAAC,MAAM,CAAC,EAAE;YACzC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;gBAC1B,IAAI,OAAO,GAAG,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;gBACpD,MAAM,KAAK,GAAG,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACxC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC;oBAClB,OAAO,IAAI,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAEnC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YACtC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;YACX,OAAO,IAAI,CAAC;SACb;;YACI,OAAO,KAAK,CAAC;IACpB,CAAC;CACF","sourcesContent":["import { sink, PinLike, isPinLike } from '@connectv/core';\n\nimport * as L from '../../../shared/life-cycle';\nimport * as _ClassListFixed from '../../../shared/class-list-fixed';\n\nimport { PluginPriority } from '../plugin';\nimport { PropertyPlugin } from '../basic-plugins';\n\n\nexport class PinClassPlugin<R=never, T=string>\n  implements PropertyPlugin<R | PinLike, T> {\n\n  priority = PluginPriority.High;\n\n  setprop(prop: string, target: RawValue | R | PinLike, host: HTMLElement): boolean {\n    if (prop === 'class' && isPinLike(target)) {\n      L.attach(target.to(sink(v => {\n        let classes = (v !== undefined) ? v.toString() : '';\n        const fixed = _ClassListFixed.get(host);\n        if (fixed.length > 0)\n          classes += ' ' + fixed.join(' ');\n\n        host.setAttribute('class', classes);\n      })), host);\n      return true;\n    }\n    else return false;\n  }\n}\n"]}