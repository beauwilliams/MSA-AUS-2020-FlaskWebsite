"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var rxjs_1 = require("rxjs");
var core_1 = require("@connectv/core");
var plugin_1 = require("../plugin");
var CompContextSubjectPlugin = /** @class */ (function () {
    function CompContextSubjectPlugin() {
        this.priority = plugin_1.PluginPriority.High;
    }
    CompContextSubjectPlugin.prototype.wireContext = function (_, value, recipient, sub) {
        if (recipient instanceof rxjs_1.Subject) {
            if (core_1.isPinLike(value))
                sub.add(value.subscribe(function (v) { return recipient.next(v); }));
            else if (value instanceof rxjs_1.Observable)
                sub.add(value.subscribe(function (v) { return recipient.next(v); }));
            else
                recipient.next(value);
            return true;
        }
        return false;
    };
    return CompContextSubjectPlugin;
}());
exports.CompContextSubjectPlugin = CompContextSubjectPlugin;
//# sourceMappingURL=comp-context-subject.js.map