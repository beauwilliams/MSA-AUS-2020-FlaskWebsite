"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var rxjs_1 = require("rxjs");
var core_1 = require("@connectv/core");
var plugin_1 = require("../plugin");
var CompContextPinPlugin = /** @class */ (function () {
    function CompContextPinPlugin() {
        this.priority = plugin_1.PluginPriority.High;
    }
    CompContextPinPlugin.prototype.wireContext = function (_, value, recipient, sub) {
        if (recipient instanceof core_1.Source) {
            if (core_1.isPinLike(value))
                sub.add(value.subscribe(function (v) { return recipient.send(v); }));
            else if (value instanceof rxjs_1.Observable)
                sub.add(value.subscribe(function (v) { return recipient.send(v); }));
            else
                recipient.send(value);
            return true;
        }
        return false;
    };
    return CompContextPinPlugin;
}());
exports.CompContextPinPlugin = CompContextPinPlugin;
//# sourceMappingURL=comp-context-pin.js.map