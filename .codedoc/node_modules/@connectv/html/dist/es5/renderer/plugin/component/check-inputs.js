"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var plugin_1 = require("../plugin");
var types_1 = require("./types");
var input_missing_error_1 = require("./errors/input-missing.error");
var CheckCompInputsPlugin = /** @class */ (function () {
    function CheckCompInputsPlugin() {
        this.priority = plugin_1.PluginPriority.High;
    }
    CheckCompInputsPlugin.prototype.wire = function (_, signature, props) {
        if (signature.inputs) {
            Object.entries(signature.inputs).forEach(function (_a) {
                var name = _a[0], input = _a[1];
                if (types_1.isCompInputWithOptions(input) && !(name in props)) {
                    if (input.inputOptions.default) {
                        props[name] = input.inputOptions.default;
                    }
                    else if (input.inputOptions.required)
                        throw new input_missing_error_1.ComponentInputMissingError(name, props);
                }
            });
        }
    };
    return CheckCompInputsPlugin;
}());
exports.CheckCompInputsPlugin = CheckCompInputsPlugin;
//# sourceMappingURL=check-inputs.js.map