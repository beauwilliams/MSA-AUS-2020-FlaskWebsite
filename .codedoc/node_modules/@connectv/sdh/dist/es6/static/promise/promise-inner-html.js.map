{"version":3,"file":"promise-inner-html.js","sourceRoot":"","sources":["../../../../src/static/promise/promise-inner-html.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,cAAc,EAAkB,MAAM,gBAAgB,CAAC;AAEhE,OAAO,EAAE,aAAa,EAAE,MAAM,wBAAwB,CAAC;AAGvD,MAAM,OAAO,sBAAsB;IAAnC;QAGE,aAAQ,GAAG,cAAc,CAAC,QAAQ,CAAC;IAarC,CAAC;IAXC,OAAO,CAAC,IAAY,EAAE,MAA6B,EAAE,IAAiB;QACpE,IAAI,IAAI,KAAK,YAAY,IAAI,MAAM,YAAY,OAAO,EAAE;YACtD,aAAa,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;gBAClC,IAAI,CAAC,SAAS,GAAG,CAAC,KAAG,SAAS,CAAA,CAAC,CAAA,CAAC,CAAC,QAAQ,EAAE,CAAA,CAAC,CAAA,EAAE,CAAC;YACjD,CAAC,CAAC,CAAC,CAAC;YAEJ,OAAO,IAAI,CAAC;SACb;QAED,OAAO,KAAK,CAAC;IACf,CAAC;CACF","sourcesContent":["import { PluginPriority, PropertyPlugin } from \"@connectv/html\";\n\nimport { attachPromise } from \"../../shared/lifecycle\";\n\n\nexport class PromiseInnerHTMLPlugin<R, T> implements \n  PropertyPlugin<R | Promise<RawValue>, T> {\n\n  priority = PluginPriority.Fallback;\n\n  setprop(prop: string, target: R | Promise<RawValue>, host: HTMLElement) {\n    if (prop === '_innerHTML' && target instanceof Promise) {\n      attachPromise(host, target.then(v => {\n        host.innerHTML = v!==undefined?v.toString():'';\n      }));\n\n      return true;\n    }\n\n    return false;\n  }\n}\n"]}