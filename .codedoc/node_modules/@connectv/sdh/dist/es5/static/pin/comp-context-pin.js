"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var rxjs_1 = require("rxjs");
var core_1 = require("@connectv/core");
var html_1 = require("@connectv/html");
var CompContextPinPlugin = /** @class */ (function () {
    function CompContextPinPlugin() {
        this.priority = html_1.PluginPriority.High;
    }
    CompContextPinPlugin.prototype.wireContext = function (_, _value, recipient, __) {
        if (core_1.isPinLike(recipient)) {
            if (core_1.isPinLike(_value))
                _value.to(recipient);
            else if (_value instanceof rxjs_1.Observable)
                core_1.wrap(_value).to(recipient);
            else if (_value instanceof Promise)
                core_1.wrap(rxjs_1.from(_value)).to(recipient);
            else
                core_1.value(_value).to(recipient);
            return true;
        }
        return false;
    };
    return CompContextPinPlugin;
}());
exports.CompContextPinPlugin = CompContextPinPlugin;
//# sourceMappingURL=comp-context-pin.js.map