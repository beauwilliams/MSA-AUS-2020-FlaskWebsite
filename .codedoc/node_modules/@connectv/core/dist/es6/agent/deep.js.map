{"version":3,"file":"deep.js","sourceRoot":"","sources":["../../../src/agent/deep.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,UAAU,EAAkC,MAAM,eAAe,CAAC;AAC3E,OAAO,EAAE,SAAS,EAAE,MAAM,cAAc,CAAC;AAMzC;;;;;;;;;;GAUG;AACH,MAAM,UAAU,IAAI,CAAC,KAAY,EAAE,GAAa;IAC9C,IAAI,GAAG;QAAE,OAAO,IAAI,SAAS,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;;QACrC,OAAO,IAAI,UAAU,CAAC,KAAK,CAAC,CAAC;AACpC,CAAC;AAGD;;;;;;;;GAQG;AACH,MAAM,UAAU,KAAK,CAAC,OAAgB;IACpC,OAAO,CAAC,QAAsB,EAAE,OAAqB,EAAE,EAAE,CAAC,IAAI,SAAS,CAAC,QAAQ,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;AACtG,CAAC;AAGD,eAAe,IAAI,CAAC","sourcesContent":["import { KeyFunc } from \"../util/keyed-array-diff\";\n\nimport { State } from \"./state\";\nimport { SimpleDeep, DeepChildFactory, DeepAccessor } from \"./simple-deep\";\nimport { KeyedDeep } from \"./keyed-deep\";\nimport { EqualityFunc } from \".\";\n\n\nexport function deep(state: State): SimpleDeep;\nexport function deep(state: State, key: KeyFunc): KeyedDeep;\n/**\n *\n * Creates a [deep state](https://connective.dev/docs/deep) from given state.\n * You can track indexes, properties and keyed entities on deep states as bound\n * reactive states.\n * [Checkout the docs](https://connective.dev/docs/deep) for examples and further information.\n *\n * @param state the state to be used as the basis of the returned deep state\n * @param key the key function to be used to track entities in the deep state\n *\n */\nexport function deep(state: State, key?: KeyFunc): SimpleDeep | KeyedDeep {\n  if (key) return new KeyedDeep(state, key);\n  else return new SimpleDeep(state);\n}\n\n\n/**\n *\n * Returns a deep child factory that creates [keyed deep](https://connective.dev/docs/deep#keyed-deep) sub-states\n * with given key function. Pass this to `.sub()` or `.key()` on [deep states](https://connective.dev/docs/deep)\n * to have keyed sub-states.\n *\n * @param keyfunc the key function to be used\n *\n */\nexport function keyed(keyfunc: KeyFunc): DeepChildFactory<KeyedDeep> {\n  return (accessor: DeepAccessor, compare: EqualityFunc) => new KeyedDeep(accessor, keyfunc, compare);\n}\n\n\nexport default deep;"]}