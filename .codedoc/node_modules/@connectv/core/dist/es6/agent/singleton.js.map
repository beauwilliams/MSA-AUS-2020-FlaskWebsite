{"version":3,"file":"singleton.js","sourceRoot":"","sources":["../../../src/agent/singleton.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,oBAAoB,CAAC;AAKhD,MAAM,UAAU,SAAS;IACvB,OAAO,UAAiD,MAAS;;QAC/D,IAAI,KAAK,GAAG,IAAI,MAAM,EAAE,CAAC;QACzB,IAAI,UAAU,CAAC,KAAK,CAAC,EAAE;YACrB,KAAK,CAAC,IAAI,EAAE,CAAC;SACd;QAED,YAAO,KAAM,SAAQ,MAAM;aAE1B;YADiB,WAAQ,GAAG,KAAM;eAClC;IACH,CAAC,CAAA;AACH,CAAC;AAGD,eAAe,SAAS,CAAC","sourcesContent":["import { isBindable } from '../shared/bindable';\n\nimport { Agent } from './agent';\n\n\nexport function singleton() {\n  return function<T extends {new(...args: any[]): Agent}>(_Class: T) : {new(...args: any[]): Agent} & T {\n    let agent = new _Class();\n    if (isBindable(agent)) {\n      agent.bind();\n    }\n\n    return class extends _Class {\n      static readonly instance = agent;\n    }\n  }\n}\n\n\nexport default singleton;\n"]}