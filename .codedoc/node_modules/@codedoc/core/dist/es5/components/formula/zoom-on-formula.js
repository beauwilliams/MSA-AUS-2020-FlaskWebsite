"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var transport_1 = require("@connectv/sdh/transport");
var clipboard_1 = require("../../transport/clipboard");
var renderer_1 = require("../../transport/renderer");
var overlay_1 = require("../util/overlay");
function zoomOnFormula() {
    var renderer = renderer_1.getRenderer();
    transport_1.onReady(function () {
        var _exec = function () {
            document.querySelectorAll('[data-formula]').forEach(function (div$) {
                div$.addEventListener('click', function () {
                    var _a;
                    var clone$ = div$.cloneNode(true);
                    (_a = clone$.querySelector('.counter')) === null || _a === void 0 ? void 0 : _a.remove();
                    clone$.setAttribute('class', '');
                    clipboard_1.copyToClipboard(clone$.getAttribute('data-formula') || '', function () {
                        renderer.render(renderer.create(overlay_1.Overlay, null,
                            renderer.create("div", { style: "white-space: nowrap" }, clone$))).on(document.body);
                    });
                });
            });
        };
        _exec();
        window.addEventListener('navigation', _exec);
    });
}
exports.zoomOnFormula = zoomOnFormula;
exports.zoomOnFormula$ = transport_1.funcTransport(zoomOnFormula);
//# sourceMappingURL=zoom-on-formula.js.map