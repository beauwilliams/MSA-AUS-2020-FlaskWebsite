"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@connectv/core");
var mode_1 = require("./mode");
function systemMode() {
    var mode = core_1.state(mode_1.Mode.Light).bind();
    if (window.matchMedia) {
        var query_1 = window.matchMedia('(prefers-color-scheme: dark)');
        if (query_1.matches) {
            mode.value = mode_1.Mode.Dark;
        }
        query_1.addListener(function () {
            if (query_1.matches)
                mode.value = mode_1.Mode.Dark;
            else
                mode.value = mode_1.Mode.Light;
        });
    }
    return mode;
}
exports.systemMode = systemMode;
//# sourceMappingURL=system.js.map