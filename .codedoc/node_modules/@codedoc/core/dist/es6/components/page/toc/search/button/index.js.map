{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../../../src/components/page/toc/search/button/index.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,gBAAgB,CAAC;AACxC,OAAO,EAAgB,GAAG,EAAE,MAAM,gBAAgB,CAAC;AAInD,OAAO,EAAE,iBAAiB,EAAE,MAAM,SAAS,CAAC;AAC5C,OAAO,EAAE,gBAAgB,EAAE,MAAM,YAAY,CAAC;AAU9C,MAAM,UAAU,YAAY,CAE1B,OAA4B,EAC5B,QAAgC;IAEhC,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;IACtD,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;IAC1C,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC;IACjD,MAAM,MAAM,GAAG,GAAG,EAAe,CAAC;IAElC,MAAM,UAAU,GAAG,CAAC,KAAoB,EAAE,EAAE;QAC1C,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,EAAE;YACzD,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;SAClB;IACH,CAAC,CAAC;IAEF,IAAI,CAAC,KAAK,CAAC;QACT,IAAI;YACF,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;QACnD,CAAC;QAED,KAAK;YACH,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;QACtD,CAAC;KACF,CAAC,CAAC;IAEH,OAAO,yBAAK,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,CAAC,MAAM,EAAE,EAAE,EAAC,qBAAqB,EAAC,OAAO,EAAE,GAAG,EAAE;YACtF,QAAQ,CAAC,MAAM,CACb,gBAAC,gBAAgB,IACf,WAAW,EAAE,OAAO,CAAC,KAAK,IAAI,oBAAoB,EAClD,KAAK,EAAE,CAAC,CAAS,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EACnC,OAAO,EAAE,OAAO,GAAG,CACtB,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACtB,CAAC;QACC,0BAAM,KAAK,EAAC,OAAO,IAAE,OAAO,CAAC,KAAK,IAAI,oBAAoB,CAAQ;QAClE,0BAAM,KAAK,EAAC,WAAW,aAAc,CACjC,CAAA;AACR,CAAC;AAGD,OAAO,EAAE,iBAAiB,EAAE,MAAM,SAAS,CAAC","sourcesContent":["import { source } from '@connectv/core';\nimport { RendererLike, ref } from '@connectv/html';\nimport { ThemedComponentThis } from '@connectv/jss-theme';\n\nimport { CodedocTheme } from '../../../../../theme';\nimport { ToCSearchBtnStyle } from './style';\nimport { ToCSearchOverlay } from '../overlay';\n\n\nexport interface ToCSearchBtnOptions {\n  label?: string;\n  query: any;\n  results: any;\n}\n\n\nexport function ToCSearchBtn(\n  this: ThemedComponentThis<CodedocTheme>,\n  options: ToCSearchBtnOptions,\n  renderer: RendererLike<any, any>\n) {\n  const classes = this.theme.classes(ToCSearchBtnStyle);\n  const results = this.expose.in('results');\n  const query = this.expose.out('query', source());\n  const holder = ref<HTMLElement>();\n\n  const keyhandler = (event: KeyboardEvent) => {\n    if (event.key === 'f' && (event.ctrlKey || event.metaKey)) {\n      event.preventDefault();\n      holder.$.click();\n    }\n  };\n\n  this.track({\n    bind() {\n      document.addEventListener('keydown', keyhandler);\n    },\n\n    clear() {\n      document.removeEventListener('keydown', keyhandler);\n    }\n  });\n\n  return <div _ref={holder} class={classes.holder} id=\"-codedoc-search-btn\" onclick={() => {\n    renderer.render(\n      <ToCSearchOverlay \n        placeholder={options.label || 'Search the docs...'}\n        query={(q: string) => query.send(q)}\n        results={results}/>\n    ).on(document.body);\n  }}>\n    <span class=\"label\">{options.label || 'Search the docs...'}</span>\n    <span class=\"icon-font\">search</span>\n  </div>\n}\n\n\nexport { ToCSearchBtnStyle } from './style';"]}