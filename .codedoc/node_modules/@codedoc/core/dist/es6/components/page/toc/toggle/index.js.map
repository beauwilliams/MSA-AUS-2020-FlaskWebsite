{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../../src/components/page/toc/toggle/index.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,gBAAgB,CAAC;AAC7C,OAAO,EAAgB,EAAE,EAAE,UAAU,EAAE,GAAG,EAAE,MAAM,gBAAgB,CAAC;AACnE,OAAO,EAAE,SAAS,EAAE,MAAM,yBAAyB,CAAC;AAIpD,OAAO,EAAE,cAAc,EAAE,MAAM,SAAS,CAAC;AAGzC,MAAM,UAAU,SAAS,CAEvB,CAAM,EACN,QAAgC;IAEhC,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;IACnD,MAAM,MAAM,GAAG,GAAG,EAAe,CAAC;IAClC,MAAM,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;IAE5B,IAAI,CAAC,KAAK,CAAC;QACT,IAAI;YACF,MAAM,EAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;YACnD,IAAI,EAAE,EAAE;gBACN,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;gBACnB,IAAI,YAAY,CAAC,OAAO,CAAC,qBAAqB,CAAC,KAAK,MAAM,EAAE;oBAC1D,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;iBACrB;gBAED,UAAU,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;aACnD;YAEA,MAAc,CAAC,gBAAgB,GAAG,CAAC,CAAW,EAAE,EAAE;gBACjD,IAAI,CAAC,KAAK,SAAS;oBAAE,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;;oBACjC,MAAM,CAAC,KAAK,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC;YACpC,CAAC,CAAA;QACH,CAAC;KACF,CAAC,CAAC;IAEH,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;QACjC,IAAI,MAAM,CAAC,QAAQ,EAAE;YACnB,IAAI,MAAM;gBAAE,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;;gBACxC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;SAC1C;QAED,YAAY,CAAC,OAAO,CAAC,qBAAqB,EAAE,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;IAClF,CAAC,CAAC,CAAC,CAAC,CAAC;IAEL,OAAO,yBACL,KAAK,EAAE,EAAE,CAAA,GAAG,OAAO,CAAC,SAAS,IAAI,UAAU,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,EACzD,OAAO,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,MAAM,CAAC,KAAK;QAC3C,yBAAK,KAAK,EAAE,OAAO,CAAC,GAAG,GAAG;QAC1B,yBAAK,KAAK,EAAE,OAAO,CAAC,GAAG,GAAG;QAC1B,yBAAK,KAAK,EAAE,OAAO,CAAC,GAAG,GAAG,CACtB,CAAA;AACR,CAAC;AAGD,MAAM,CAAC,MAAM,UAAU,GAAG,aAAa,CAAA,SAAS,CAAC,SAAS,CAAC,CAAC;AAC5D,OAAO,EAAE,cAAc,EAAE,MAAM,SAAS,CAAC","sourcesContent":["import { state, sink } from '@connectv/core';\nimport { RendererLike, rl, toggleList, ref } from '@connectv/html';\nimport { transport } from '@connectv/sdh/transport';\nimport { ThemedComponentThis } from '@connectv/jss-theme';\n\nimport { CodedocTheme } from '../../../../theme';\nimport { ToCToggleStyle } from './style';\n\n\nexport function ToCToggle(\n  this: ThemedComponentThis<CodedocTheme>,\n  _: any, \n  renderer: RendererLike<any, any>\n) {\n  const classes = this.theme.classes(ToCToggleStyle);\n  const holder = ref<HTMLElement>();\n  const active = state(false);\n\n  this.track({\n    bind() {\n      const el = document.getElementById('-codedoc-toc');\n      if (el) {\n        holder.resolve(el);\n        if (localStorage.getItem('-codedoc-toc-active') === 'true') {\n          active.value = true;\n        }\n\n        setTimeout(() => el.classList.add('animated'), 1);\n      }\n\n      (window as any).codedocToggleToC = (v?: boolean) => {\n        if (v !== undefined) active.value = v;\n        else active.value = !active.value;\n      }\n    }\n  });\n\n  this.track(active.to(sink(active => {\n    if (holder.resolved) {\n      if (active) holder.$.classList.add('active');\n      else holder.$.classList.remove('active');\n    }\n\n    localStorage.setItem('-codedoc-toc-active', active === true ? 'true' : 'false');\n  })));\n\n  return <div \n    class={rl`${classes.tocToggle} ${toggleList({ active })}`}\n    onclick={() => active.value = !active.value}>\n    <div class={classes.bar}/>\n    <div class={classes.bar}/>\n    <div class={classes.bar}/>\n  </div>\n}\n\n\nexport const ToCToggle$ = /*#__PURE__*/transport(ToCToggle);\nexport { ToCToggleStyle } from './style';"]}