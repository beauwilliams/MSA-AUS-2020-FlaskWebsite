{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../../src/components/page/toc/prevnext/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import { RendererLike, ref } from '@connectv/html';\nimport { transport } from '@connectv/sdh/transport';\nimport { ThemedComponentThis } from '@connectv/jss-theme';\n\nimport { CodedocTheme } from '../../../../theme';\nimport { ToCPrevNextStyle } from './style';\n\n\nexport interface ToCPrevNextOptions {\n  'prev-label'?: string;\n  'prev-icon'?: string;\n  'next-label'?: string;\n  'next-icon'?: string;\n  next?: 'true' | 'false',\n  prev?: 'true' | 'false',\n}\n\n\nexport function ToCPrevNext(\n  this: ThemedComponentThis<CodedocTheme>,\n  options: ToCPrevNextOptions, \n  renderer: RendererLike<any, any>,\n) {\n  const classes = this.theme.classes(ToCPrevNextStyle);\n  const holder = ref<HTMLElement>();\n\n  this.track({\n    bind() {\n      setTimeout(() => {\n        const toc = document.getElementById('-codedoc-toc');\n        if (toc) {\n          let prev$: HTMLAnchorElement | undefined;\n          let curr$: HTMLAnchorElement | undefined;\n          let next$: HTMLAnchorElement | undefined;\n\n          toc.querySelectorAll('a').forEach(a$ => {\n            const href = a$.getAttribute('href') || '';\n            if (href === location.pathname && !curr$) curr$ = a$;\n            else if (curr$ && href.startsWith('/') && !next$) next$ = a$;\n            else if (!curr$ && href.startsWith('/')) prev$ = a$;\n          });\n\n          if (prev$ && options.prev !== 'false') {\n            renderer.render(<a class={`${classes.button} prev`} href={prev$.getAttribute('href') || ''}>\n              <div>\n                <span class={classes.label}>{options['prev-label'] || 'Previous'}</span>\n                <span class={classes.title}>{prev$.textContent}</span>\n              </div>\n              <span class=\"icon-font\">{options[\"prev-icon\"] || 'arrow_back_ios'}</span>\n            </a>).on(holder.$);\n          }\n\n          if (next$ && options.next !== 'false') {\n            renderer.render(<a class={`${classes.button} next`} href={next$.getAttribute('href') || ''}>\n              <div>\n                <span class={classes.label}>{options['next-label'] || 'Next'}</span>\n                <span class={classes.title}>{next$.textContent}</span>\n              </div>\n              <span class=\"icon-font\">{options[\"next-icon\"] || 'arrow_forward_ios'}</span>\n            </a>).on(holder.$);\n          }\n        }\n      }, 10);\n    }\n  });\n\n  return <div class={classes.prevnext} _ref={holder}/>\n}\n\n\nexport const ToCPrevNext$ = /*#__PURE__*/transport(ToCPrevNext);\nexport { ToCPrevNextStyle } from './style';"]}