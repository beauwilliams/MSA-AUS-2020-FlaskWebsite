{"version":3,"file":"system.js","sourceRoot":"","sources":["../../../../src/components/darkmode/system.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,gBAAgB,CAAC;AAEvC,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AAG9B,MAAM,UAAU,UAAU;IACxB,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC;IACtC,IAAI,MAAM,CAAC,UAAiB,EAAE;QAC5B,MAAM,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC,8BAA8B,CAAC,CAAC;QAChE,IAAI,KAAK,CAAC,OAAO,EAAE;YACjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;SACxB;QAED,KAAK,CAAC,WAAW,CAAC,GAAG,EAAE;YACrB,IAAI,KAAK,CAAC,OAAO;gBAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;;gBACrC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QAC/B,CAAC,CAAC,CAAC;KACJ;IAED,OAAO,IAAI,CAAC;AACd,CAAC","sourcesContent":["import { state } from '@connectv/core';\n\nimport { Mode } from './mode';\n\n\nexport function systemMode() {\n  const mode = state(Mode.Light).bind();\n  if (window.matchMedia as any) {\n    const query = window.matchMedia('(prefers-color-scheme: dark)');\n    if (query.matches) {\n      mode.value = Mode.Dark;\n    }\n\n    query.addListener(() => {\n      if (query.matches) mode.value = Mode.Dark;\n      else mode.value = Mode.Light;\n    });\n  }\n\n  return mode;\n}\n"]}