"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var rxjs_1 = require("rxjs");
var transform_1 = require("./transform");
var modifier_1 = require("./modifier");
function handleError(handler) {
    return modifier_1.mod(function (transform) {
        return new transform_1.Transform(function (i) {
            var obs$ = transform.apply(i);
            return rxjs_1.Observable.create(function (observer) {
                obs$.subscribe({
                    next: function (i) { return observer.next(i); },
                    error: function (err) {
                        handler(err, i, function (err) { return observer.error(err); });
                        observer.complete();
                    },
                    complete: function () { return observer.complete(); }
                });
            });
        });
    });
}
exports.handleError = handleError;
//# sourceMappingURL=handle-error.js.map